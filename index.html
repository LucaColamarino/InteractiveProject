<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>Metamorphosis - Evolve Beyond</title>
  <meta content="#64c8ff" name="theme-color"/>
  <meta content="Un'esperienza di evoluzione biologica immersiva in 3D" name="description"/>

  <!-- Fonts -->
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Exo+2:wght@300;400;600;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Exo+2:wght@300;400;600;700&display=swap">
  </noscript>

  <!-- Design System + UI -->
  <link rel="stylesheet" href="./src/ui/css/design-system.css">
  <link rel="stylesheet" href="./src/ui/css/startMenu.css">
  <link rel="stylesheet" href="./src/ui/css/mainMenu.css">
  <link rel="stylesheet" href="./src/ui/css/hud.css">
  <link rel="stylesheet" href="./src/ui/css/inventory.css">
  <link rel="stylesheet" href="./src/ui/css/hudCampfireMenu.css">
  <link rel="stylesheet" href="./src/ui/css/loading.css">
</head>
<body>

  <!-- Loading Screen -->
  <div id="loading-screen" class="sm-loading hidden" role="dialog" aria-modal="true" aria-labelledby="loading-title">
    <div class="sm-loading-card">
      <h1 id="loading-title" class="loading-logo">Metamorphosis: Evolve Beyond</h1>

      <div class="sm-loader-plate" aria-hidden="true">
        <div class="sm-loader-groove">
          <div class="sm-loader-fill" id="loading-progress"></div>
          <div class="sm-loader-embers"></div>
        </div>
      </div>

      <p class="loading-message" id="loading-message" aria-live="polite">Preparing the bonfire...</p>
      <p class="loading-percent" id="loading-percent" aria-hidden="true">0%</p>
    </div>

    <!-- Ornamenti -->
    <div class="sm-fog"></div>
    <div class="sm-fog sm-fog-2"></div>
  </div>

  <!-- CANVAS -->
  <canvas id="three-canvas" aria-label="Rendering 3D"></canvas>

  <!-- HUD Overlay -->
  <div id="hud-overlay" class="hud-overlay" role="application" aria-label="HUD Metamorphosis">
    <!-- Hit FX layers -->
    <div id="hit-flash" aria-hidden="true"></div>
    <div id="floating-damage-root" aria-live="polite" aria-atomic="false"></div>

    <!-- Interaction Prompt -->
    <div class="interaction-wrap">
      <div class="interaction-prompt" hidden id="interaction-prompts" role="alert"  style="opacity: 0; transform: translate(-50%, -20px); transition: 0.22s;" hidden="">
        <span id="interaction-key" class="kbd" aria-label="Tasto di interazione">E</span>
        <span id="interaction-text">Interact</span>
      </div>
    </div>

    <!-- Minimap + Pills -->
    <div class="minimap-wrap" id="hud-map-container" role="region" aria-label="Minimappa"></div>
    <div class="minimap-hud" id="hud-pills-container" role="status" aria-live="polite"></div>

    <!-- VITALS -->
    <div class="hud-vitals" id="hud-vitals-container" role="region" aria-label="Statistiche vitali"></div>

    <!-- Action Keys (help) -->
    <div class="action-keys" role="list">
      <div class="action-key" role="listitem"><span class="key-label kbd">G</span><span class="key-action">Open Inventory</span></div>
      <div class="action-key" role="listitem"><span class="key-label kbd">RMB</span><span class="key-action">Block</span></div>
      <div class="action-key" role="listitem"><span class="key-label kbd">Q</span><span class="key-action">Ability</span></div>
    </div>

    <!-- Notifications -->
    <div class="notification-area" id="notifications" role="log" aria-live="polite" aria-relevant="additions"></div>
  </div>

  <!-- Scripts -->
  <script src="./src/loading.js" type="module"></script>
  <script src="./src/main.js" type="module"></script>
</body>
</html>
